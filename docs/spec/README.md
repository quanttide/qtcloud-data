# 工程标准

## 组件

在制造业（生产主线）上，如果没有工艺卡、没有图纸、没有BOM表，工厂是无法运转的。

为了让你的“用文档管理生命周期”这个初衷落地，我们可以把数据工程文档拆解为工厂里的三大核心生产文档：

🏗️ 1. 设计图纸 (The Blueprint) —— 对应“数据建模”
在造车之前，必须有设计图纸。在数据生产中，这就是数据的Schema和模型设计。

-   文档内容： 字段定义、主外键关系、ER图。
-   生产意义： 告诉“工人”（开发人员）这个数据产品长什么样，接口标准是什么。
-   生命周期管理： 如果图纸变了（需求变更），文档必须第一时间更新，否则生产线（代码）就会产出废品。

⚙️ 2. 工艺卡 (The Process Card) —— 对应“加工逻辑”
这是指导具体怎么造的文档，比如“这个零件需要先淬火，再车削”。

-   文档内容： ETL逻辑、SQL脚本逻辑说明、数据清洗规则。
-   生产意义： 记录“原材料”（源数据）是如何经过一系列工序变成“成品”（目标表）的。
-   本质作用： 当原来的“工人”离职了，新来的工人看这个“工艺卡”就能接手维护，不会导致生产线瘫痪。

🔍 3. 质检标准 (The QC Standard) —— 对应“数据质量”
这是产品出厂前的检验环节。

-   文档内容： 空值率阈值、唯一性约束、波动率告警规则。
-   生产意义： 定义什么样的数据是合格的，什么样的数据是废品（需要返工）。
-   生命周期管理： 如果质检标准变了，文档必须记录变更历史，以便追溯为什么某一天的数据突然“不合格”了。

## 生命周期

结合“生产工艺”视角，数据工程的生命周期其实就是“从图纸设计到产品报废”的全过程管理：

1.  设计阶段（图纸诞生）： 文档记录了最初的需求和设计意图。
2.  试产阶段（代码开发）： 工人根据图纸（文档）搭建生产线（写代码）。
3.  量产阶段（任务调度）： 生产线自动运行，但必须依据工艺卡（文档）进行维护。
4.  质检阶段（数据监控）： 依据质检标准（文档）拦截脏数据。
5.  退市阶段（下线归档）： 当产品（数据表）不再被使用，文档中标记“已废弃”，通知生产线停止运行。

## 最佳实践

既然是“生产主线”，那么你的数据工程文档必须具备“强约束力”，就像工厂的ISO质量体系文件一样：

-   无文档，不上线： 就像没有图纸不能开工一样，没有在文档中心注册的表，不能进入生产环境。
-   变更必留痕： 就像修改图纸必须走变更流程一样，数据逻辑变了，必须先改文档，再改代码。
-   文档即代码： 最好的状态是，文档中的“工艺卡”（逻辑定义）能直接生成部分代码，或者代码的注释能自动生成文档，实现“图物相符”。

